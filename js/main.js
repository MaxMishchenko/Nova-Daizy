document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelectorAll(".form__rating-star"),t=document.getElementById("ratingResult");let c=0;function o(e){const o=e.target.dataset.rate;switch(e.type){case"mouseover":s(o,"hover");break;case"mouseout":s(c,"selected");break;case"click":c=o,t.value=o,s(c,"selected")}}function s(t,c){e.forEach((e=>{e.classList.remove("hover","selected"),e.dataset.rate<=t&&e.classList.add(c)}))}e.forEach((e=>{["mouseover","mouseout","click"].forEach((t=>{e.addEventListener(t,o)}))}));const n=document.body,a={contactBtn:{element:document.getElementById("contactBtn"),popup:document.getElementById("popupContactUs")},feedbackBtn:{element:document.getElementById("feedbackBtn"),popup:document.getElementById("popupFeedback")}};window.addEventListener("scroll",(()=>{a.contactBtn.element.classList.toggle("visible",window.scrollY>0)}));const r=(e,t)=>{e.classList.toggle("active",t),n.classList.toggle("lock",t)};Object.values(a).forEach((({element:t,popup:c})=>{t.addEventListener("click",(()=>r(c,!0))),c.addEventListener("click",(t=>{t.target===c&&r(c,!1),e.forEach((e=>e.classList.remove("hover","selected")))}));const o=c.querySelector(".form__close");o&&(o.addEventListener("click",(()=>r(c,!1))),e.forEach((e=>e.classList.remove("hover","selected"))))}));const l=(e,t,c={threshold:1})=>{const o=document.querySelectorAll(e),s=new IntersectionObserver(((e,c)=>{e.forEach((e=>{e.isIntersecting&&(t(e.target),c.unobserve(e.target))}))}),c);o.forEach((e=>s.observe(e)))};l(".section__best-price-old",(e=>{e.classList.add("visible")})),l(".section__reasons-icon",(()=>d(".section__reasons-icon")),{threshold:.1});const d=e=>{document.querySelectorAll(e).forEach(((e,t)=>{setTimeout((()=>e.classList.add("visible")),600*t)}))}}));